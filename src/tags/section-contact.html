<section-contact>
  <div class="container">
    <div class="row mt60">
      <div class="col-md-12">
        <h3 class="section-title ">Contact Us</h3>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="row">
          <div class="col-sm-6">
            <div class="form-group">
              <input ref="name" type="text" class="form-control" placeholder="Name" id="name" name="name" required>
            </div>
            <!-- /.form-group -->
          </div>
          <!-- /.col-sm-6 -->
          <div class="col-sm-6">
            <div class="form-group">
              <input ref="email" type="email" class="form-control" placeholder="Email" id="email" name="email" required>
            </div>
            <!-- /.form-group -->
          </div>
          <!-- /.col-sm-6 -->
          <div class="col-sm-12">
            <div class="form-group">
              <textarea ref="message" class="form-control" rows="6" placeholder="Message" name="message"></textarea>
            </div>
            <!-- /.form-group -->
          </div>
          <!-- /.col-sm-12 -->
          <div class="text-center mt20 col-sm-6 col-sm-offset-3">
            <button onclick="{contact}" type="button" class="btn btn-black" ref="cfsubmit">Submit</button>
          </div>
        </div>
        <!-- /.row -->
      </div>
      <!-- /.col-md-10.col-md-offset-1 -->
    </div>
    <div class="contactFormResponse">{responseText}</div>
  </div>

  <script type="es6">
    let tag = this
    this.contact = () => {
      let data = {
        name: this.refs.name.value,
        email: this.refs.email.value,
        message: this.refs.message.value,
      };
      app.util.post('contact.php', data, (xhr) => {
        if (xhr.status === 202) {
          tag.update({ responseText: 'Your message has been successfully sent. We will be in contact with you shortly' })
        } else {
          tag.update({ responseText: 'There was a problem sending your message, please email conference@phpdetroit.io' })
        }
      })
    }
  </script>
  <style type="text/css">
    .contactFormResponse {
      padding-top: 25px;
      text-align: center;
      font-size: 25px;
      font-weight: 500;
    }
  </style>
</section-contact>
